
<link rel="import" href="../../fc-grid/data-manager.html">
<link rel="import" href="../../bower_components/app-route/app-location.html">
<link rel="import" href="../../bower_components/app-route/app-route.html">
<link rel="import" href="../../bower_components/paper-tabs/paper-tabs.html">
<link rel="import" href="../../bower_components/paper-tabs/paper-tab.html">
<link rel="import" href="../../bower_components/paper-icon-button/paper-icon-button.html">

<dom-module id="fc-tab-menu">
<template id="fc-tab-menu-template">
<style>
 paper-tab[link] a {
    /* These mixins (from iron-flex-layout) center the link text. */
    @apply(--layout-horizontal);
    @apply(--layout-center-center);}

paper-tab {
  --paper-tab-background-color: white;
  --paper-tab-border: snow;
  --paper-tab-ink:#aecdfe;
  --paper-tab-visited:color: #005c00;
  --paper-tab-selected: color: #005c00;
  --paper-tab:selected: #005c00;
  padding: 0px;
  @apply(--paper-tab);
  @apply(--paper-tab-background-color);
}
a{color: #009; color: #aecdfe;
      font-family: merriweather;
      font-weight: 500;
      font-size: 1.1em; 
      white-space: wrap;}
a:visited{
      color: #aecdfe;
      font-family: merriweather;
      font-weight: 300;
      font-size: 1.1em; 
      white-space: wrap;
                        }
a:selected, a:active{
    color: #009;
    font-weight: 600;

}
paper-tab {
  color: #009;
  background: white;
  --paper-tab-visited-color: #009;
}
paper-tab.iron-selected {
  color: blue;
}
paper-tabs.slidingtabs{
  height: 9px; 
   min-width: 160px; 
   border-bottom: #fff 1px solid; 
   background:#fff; 
   color: #009
   opacity: 0;
   padding: 2px;
    outline: 0px white solid;
    margin-bottom: 0px;
 
   -webkit-transition: height 1.1s ease, margin-bottom 1.1s ease, opacity 1.1 ease;
  transition: height 1.1s ease, opacity 1.1s ease, margin-bottom 1.1s ease;

  -webkit-transition-delay: 2s; /* Safari */
    transition-delay: 2s;

}
>>>paper-icon-button{
	max-height: 12px!important;
	max-width: 12px!important;
	}
paper-tabs.slidingtabs::webkit-scrollbar{
	display: none;
}

paper-tabs.slidingtabs:hover{
  height: 34px;
 -webkit-user-select: none;  /* Chrome all / Safari all */
  -moz-user-select: none;     /* Firefox all */
  -ms-user-select: none;      /* IE 10+ */
  user-select: none;
  margin-bottom: -18px;         /* Likely future */      

  padding: 0px 3px 6px 3px; 
   min-width: 180px; 
   border-bottom: #009 0px solid; 
   background:#fff; 
   color: #009;
   outline: 0px white solid;
   opacity: 1;
     -webkit-transition: height 0.8s ease, opacity .8 ease;
  transition: height 0.8s ease, opacity .8s ease;

}
</style>
 <paper-tabs 
          id="tabsMenu" 
          data="{{localDashboard}}"
          scrollable="true"
          class="horizontal layout end slidingtabs"
          selected="{{interfaceName}}"  
          attr-for-selected="name" 
          bar>   
        <div class="horizontal layout flex" style="overflow-x: scroll;">
        <template is="dom-repeat" items="{{localDashboard.index}}">
        <paper-tab link selected="{{interfaceName}}" on-tap="setInterfaceName" attr-for-selected="name" style="color: black; background: white;min-width: 160px">
          <a name="{{item.name}}" href="[[pattern]][[item.name]]">[[_computeTabTitles(item.name)]]</a>
        </paper-tab>
        </template>
        </div>
</paper-tabs>

</template>
</dom-module>
<script>
FcTabMenu=Polymer({
is:'fc-tab-menu',
behaviors:[ FCBehaviors.FocusedDataManagerBehavior],
properties:{
	tabOptions:{
		type: Array, 
		value: function(){return [];},
		notify: true,
		observer: 'observeTabOptions',
	},
	localDashboard:{
		type: Object,
		value:function(){return null;},
		notify: true,
	},
	pattern:{
		type: String,
		value:function(){return "#/"},
		notify: true

	},
	interfaceName:{
		type: String,
		value:function(){return 'intakes';},
		notify: true,
	},
	interfaceType:{
		type: String, 
		value: function(){return "inputs";},
		notify: true,
	},
	viewLocation:{
		type: String,
		value: function(){ return "leftDrawer1";},
		notify: true,
	},
	viewArray:{
		type: Array,
		computed:"_computeViewArray(localDashboard, interfaceName, interfaceType)",
		notify: true,
	},
},

observeTabOptions(newValue,oldValue){
	if(newValue&& newValue!=undefined){
		console.log(newValue,oldValue);
		  }

	},
_computeTabTitles(name){
	if(name&&name!=undefined){
	var j=this.focusedManager.propertyNameToLabel(name);
	console.log(j, "trying to get a return");
	return j;
	}

	},
   

_computeViewArray(db, name, type){
	console.log(db, name, type);
	if(db&&db!=undefined&&db.profiles){
		var end=type+"Array";
		console.log(db, db[name]);
	var retValue=db[name][end];
	return retValue;
	}
	},
setInterface(e){
	this.set("interfaceName", e.target.name);

},





});
</script>